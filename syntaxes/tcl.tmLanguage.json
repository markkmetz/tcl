{
  "scopeName": "source.tcl",
  "name": "Tcl",
  "patterns": [
    { "include": "#comments" },
    { "include": "#strings" },
    { "include": "#numbers" },
    { "include": "#variables" },
    { "include": "#keywords" },
    { "include": "#definitions" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.number-sign.tcl",
          "match": "#.*$"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.tcl",
          "begin": "\"",
          "end": "\"",
          "patterns": [ { "match": "\\\\.", "name": "constant.character.escape.tcl" } ]
        },
        {
          "name": "string.quoted.single.tcl",
          "begin": "'",
          "end": "'",
          "patterns": [ { "match": "\\\\.", "name": "constant.character.escape.tcl" } ]
        }
      ]
    },
    "numbers": {
      "patterns": [
        { "name": "constant.numeric.tcl", "match": "\\b\\d+(?:\\.\\d+)?\\b" }
      ]
    },
    "variables": {
      "patterns": [
        { "name": "variable.other.tcl", "match": "\\$[A-Za-z0-9_:.]+" }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.tcl",
          "match": "\\b(?:proc|method|set|if|else|elseif|while|for|foreach|switch|return|namespace|class|constructor)\\b"
        }
      ]
    },
    "definitions": {
      "patterns": [
        {
          "name": "meta.definition.function.tcl",
          "match": "^\\s*(?:proc|method)\\s+([A-Za-z0-9_:.]+)",
          "captures": {
            "0": { "name": "meta.definition.function.tcl" },
            "1": { "name": "entity.name.function.tcl" }
          }
        },
        {
          "name": "meta.definition.parameters.tcl",
          "match": "\\{(?!\\{)((?:\\\\.|\"(?:\\\\.|[^\"\\\\])*\"|[^}])*)\\}",
          "captures": { "1": { "name": "variable.parameter.tcl" } }
        }
      ]
    }
  }
}
